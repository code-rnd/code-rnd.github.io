(this["webpackJsonpcra-redux-default-app"]=this["webpackJsonpcra-redux-default-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(34)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),u=a.n(c),i=a(3),s=a(6),o=a(2),d=a(1),m="UPDATE_CARD",l="ADD_OPEN_CARDS",f="REMOVE_OPEN_CARDS",p="ADD_MATCHES_FOUND",b="SET_STATE_CARDS_DEFAULT",O="SET_STATE_CARDS_SHUFFLED",v="SET_OPACITY_CARDS",E=function(){return{type:b}},j=function(e,t){if(!e||!t)return["null"];var a=Object(d.a)(e);return Object(d.a)(e).map((function(e,n){e.id===t.id&&(a[n]=Object(o.a)({},e,{},t))})),a},C=function(e,t){if(!e||!t)return[];var a=Object(o.a)({},t);return[].concat(Object(d.a)(e),[a])},T=function(e,t){if(!e||!t)return[];var a=Object(d.a)(e);return Object(d.a)(e).map((function(e,n){e.id===t.id&&a.splice(n,1)})),a},h=function(e,t){if(!e||e.length<2)return!1;var a=Object(d.a)(e),n=!1;return a[0][t]===a[1][t]&&(n=!0),n},g=function(e){return Object(d.a)(e).sort((function(){return Math.random()-.5}))},y=Object(d.a)(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=[],a=0;a<e;a++)t.push({data:"data-".concat(a),img:"".concat(a,".jpg"),isOpen:!1,hidden:!1});return t=[].concat(Object(d.a)(t),Object(d.a)(t)),Object(d.a)(t).map((function(e,a){t[a]=Object(o.a)({id:a},t[a])})),t}()),_={cards:Object(d.a)(y),openCards:[],matchesCount:0,opacityCards:!1};var S="SET_TIMER",N=function(e){return{type:S,data:e}},D={params:{status:!1,name:"name",count:0}};var U="ADD_USER",A="UPDATE_USER",R="SET_CURRENT_USER",w=function(e,t){if(!e||!t)return[];var a=Object(d.a)(e)[e.length-1].id+1,n=Object(o.a)({id:a},t);return[].concat(Object(d.a)(e),[n])},M=function(e,t){if(!e||!t)return[];var a=t.id,n=null;Object(d.a)(e).map((function(e,t){e.id===a&&(n=t)}));var r=Object(o.a)({},e[n],{},t);return e[n]=r,e},k=function(e,t){return e&&t?void 0===e.recordTime?Object(o.a)({},e,{},t):e.recordTime<=t.recordTime?e:e.recordTime>t.recordTime?Object(o.a)({},e,{},t):void 0:{}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"recordTime";return e?e.sort((function(e,a){return e[t]-a[t]})):[]},I=[{id:0,name:"Philip",recordTime:43},{id:1,name:"Tomas",recordTime:59},{id:2,name:"Bob",recordTime:34}],F={users:[].concat(I),currentUser:[].concat(I)[0]};var P=Object(s.b)({content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=Object(d.a)(e.cards),n={},r=[],c=Object(d.a)(e.openCards),u=[],i=e.matchesCount,s=0;switch(t.type){case m:return n=t.data,r=j(a,n),Object(o.a)({},e,{},{cards:r});case l:return n=t.data,u=C(c,n),Object(o.a)({},e,{},{openCards:u});case f:return n=t.data,u=T(c,n),Object(o.a)({},e,{},{openCards:u});case p:return Object(o.a)({},e,{},{matchesCount:i+1});case b:return Object(o.a)({},e,{},_,{},{matchesCount:0});case O:return r=g(Object(d.a)(a)),Object(o.a)({},e,{cards:r});case v:return s=t.data,Object(o.a)({},e,{opacityCards:s});default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,a=e.params,n={};switch(t.type){case S:return n=t.data,Object(o.a)({},e,{},{params:Object(o.a)({},a,{},n)});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=e.users,n=e.currentUser,r={},c="",u=[];switch(t.type){case U:return c=t.data,u=w(a,r={name:c,recordTime:void 0}),Object(o.a)({},e,{users:Object(d.a)(u)});case A:return r=t.data,r=k(n,r),u=M(a,r),Object(o.a)({},e,{users:Object(d.a)(u)});case R:return r=t.data,Object(o.a)({},e,{currentUser:r});default:return e}}}),X=Object(s.c)(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(24);var L={updateCard:function(e){return{type:m,data:e}},addOpenCards:function(e){return{type:l,data:e}},removeOpenCards:function(e){return{type:f,data:e}},addMatchesFound:function(){return{type:p}}},V=Object(i.b)((function(e){return{cards:e.content.cards,openCards:e.content.openCards,opacityCards:e.content.opacityCards}}),L)((function(e){var t=e.card,a=e.openCards,c=e.opacityCards,u=e.isDisabled,i=t.img,s=t.isOpen,d=t.hidden,m=e.updateCard,l=e.addMatchesFound,f=e.addOpenCards,p=e.removeOpenCards;Object(n.useEffect)((function(){a.length<2||s&&(h(a,"data")?setTimeout((function(){a.map((function(e){e.id===t.id&&O()}))}),500):setTimeout((function(){b()}),300))}),[a]);var b=function(){m(Object(o.a)({},t,{isOpen:!1})),p(t)},O=function(){m(Object(o.a)({},t,{isOpen:!1,hidden:!0})),p(t),l()};return r.a.createElement("div",{className:"card ".concat(d&&"card-hidden"),onClick:function(){m(Object(o.a)({},t,{isOpen:!0})),f(t)},disabled:!(!u&&!s)||c},r.a.createElement("div",{className:"card-img ".concat(!s&&"card-opacity0"," ").concat(c&&"card-opacity05"),style:{backgroundImage:"url('./media/cards/img/".concat(i,"')")}}))})),B=function(e,t){var a=[],n=-1;return Object(d.a)(e).map((function(e,r){r%t?a[n]=[].concat(Object(d.a)(a[n]),[e]):(n+=1,(a=[].concat(Object(d.a)(a),[[]]))[n]=[].concat(Object(d.a)(a[n]),[e]))})),a};a(25);var H={setTimer:N,updateUser:function(e){return{type:A,data:e}},setStateCardsDefault:E},J=Object(i.b)((function(e){return{cards:e.content.cards,openCards:e.content.openCards,matchesCount:e.content.matchesCount,name:e.timer.params.name,count:e.timer.params.count}}),H)((function(e){var t=e.cards,a=e.openCards,c=e.matchesCount,u=e.setTimer,i=e.name,s=e.count,o=e.updateUser,d=e.setStateCardsDefault;Object(n.useEffect)((function(){c===t.length&&m()}),[c]);var m=function(){o({recordTime:s}),clearInterval(i),u({count:0,name:"",status:!1}),d()};return r.a.createElement("div",{className:"cards margin-top20px"},r.a.createElement("table",null,r.a.createElement("tbody",null,B(t,6).map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(e,t){return r.a.createElement("td",{key:t},r.a.createElement(V,{card:e,isDisabled:!(a.length<2)}))})))})))))})),G=a(8);a(26);var Y={setOpacityCards:function(e){return{type:v,data:e}}},q=Object(i.b)((function(e){return{}}),Y)((function(e){var t=e.setOpacityCards,a=Object(n.useState)(!1),c=Object(G.a)(a,2),u=c[0],i=c[1];return r.a.createElement("div",{className:"toggle ".concat(u&&"toggle-active"),onClick:function(){return i(!u),void t(!u)}},r.a.createElement("span",null))}));a(27);var z={setTimer:N,setStateCardsDefault:E},K=Object(i.b)((function(e){return{currentUser:e.users.currentUser,timer:e.timer.params}}),z)((function(e){var t=e.setTimer,a=e.setStateCardsDefault,n=e.currentUser,c=e.timer;return r.a.createElement("div",{className:"informMenu"},r.a.createElement("div",{className:"informMenu-button"},r.a.createElement("input",{type:"button",value:"cancel",onClick:function(){clearInterval(c.name),t({count:0,name:"",status:!1}),a()}})),r.a.createElement("div",{className:"informMenu-iosSwitch"},r.a.createElement(q,null)),r.a.createElement("div",{className:"informMenu-timer"},c.count," sec."),r.a.createElement("div",{className:"informMenu-userInfo"},n.name,r.a.createElement("div",{className:"informMenu-userInfo-avatar margin-left5px"},n.recordTime?"".concat(n.recordTime," s."):"x_X")))}));a(28);var Q={setCurrentUser:function(e){return{type:R,data:e}},setTimer:N,setStateCardsShuffled:function(){return{type:O}}},W=Object(i.b)((function(e){return{timer:e.timer.params}}),Q)((function(e){var t=e.user,a=e.rating,n=t.name,c=t.recordTime,u=e.setCurrentUser,i=e.setStateCardsShuffled,s=e.setTimer;return r.a.createElement("div",{className:"user margin-top20px"},r.a.createElement("div",{className:"user-rating user-name"},a,") ",n),r.a.createElement("div",{className:"user-recordTimer"},c?"record: ".concat(c," sec."):"no result"),r.a.createElement("div",{className:"user-startGame"},r.a.createElement("input",{type:"button",value:"start",onClick:function(){!function(){i();var e=0;s({status:!0});var a=setInterval((function(){s({name:a,status:!0,count:e+=1})}),1e3);u(t)}()}})))}));a(29);var Z=Object(i.b)((function(e){return{users:e.users.users}}),{})((function(e){var t=e.users;return r.a.createElement("div",{className:"users"},x(Object(d.a)(t)).map((function(e,t){return r.a.createElement(W,{user:e,rating:t+1,key:t})})))}));a(30);var $={addUser:function(e){return{type:U,data:e}}},ee=Object(i.b)((function(e){return{}}),$)((function(e){var t=e.addUser,a=Object(n.useState)(""),c=Object(G.a)(a,2),u=c[0],i=c[1];return r.a.createElement("div",{className:"addUser user users-addUser margin-top20px"},r.a.createElement("input",{type:"text",placeholder:"new user..",value:u,onChange:function(e){i(e.currentTarget.value)}}),r.a.createElement("input",{type:"button",value:"add user",onClick:function(){t(u),i("")},disabled:!u||" "===u}))}));a(31);function te(){return r.a.createElement("div",{className:"mainMenu"},r.a.createElement("div",{className:"mainMenu-label"},"Users"),r.a.createElement(Z,null),r.a.createElement(ee,null))}a(32);var ae=Object(i.b)((function(e){return{status:e.timer.params.status}}),{})((function(e){var t=e.status;return r.a.createElement("div",{className:"widjet-container"},"Fortune-game",t?r.a.createElement("div",{className:"widjet margin-top20px"},r.a.createElement(K,null),r.a.createElement(J,null)):r.a.createElement("div",{className:"widjet margin-top20px"},r.a.createElement(te,null)))}));a(33);u.a.render(r.a.createElement(i.a,{store:X},r.a.createElement(ae,null)),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.ab93595c.chunk.js.map
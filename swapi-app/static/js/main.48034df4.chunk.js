(this["webpackJsonpswapi-app"]=this["webpackJsonpswapi-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(62)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),i=a.n(r),s=a(5),o=a(2),l=a(4),u=function(e){return{type:"SET_OBJECTS",data:e}},m=function(e){return{type:"TOGGLE_IS_FETCHING",data:e}},d={data:{objects:[]},currentCategory:null,isFetching:!1};var g=a(8),v=function(e){return{type:"TOGGLE_IS_FETCHING",data:e}},f={objects:[],isFetching:!1};var p=Object(o.combineReducers)({sw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=e.data,n=[],c=null,r=null;switch(t.type){case"SET_OBJECTS":return n=t.data,Object(l.a)({},e,{},{data:Object(l.a)({},a,{objects:n})});case"SET_CURRENT_CATEGORY":return c=t.data,Object(l.a)({},e,{},{currentCategory:c});case"TOGGLE_IS_FETCHING":return r=t.data,Object(l.a)({},e,{},{isFetching:r});default:return e}},google:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=e.objects,n={},c=[],r=null;switch(t.type){case"SET_IMAGE":return n=t.data,c=[].concat(Object(g.a)(a),[n]),Object(l.a)({},e,{},{objects:c});case"TOGGLE_IS_FETCHING":return r=t.data,Object(l.a)({},e,{},{isFetching:r});default:return e}}}),E=a(22),b=a(23),h=Object(o.createStore)(p,Object(E.composeWithDevTools)(Object(o.applyMiddleware)(b.a))),j=a(7),O=a.n(j),C=O.a.create({baseURL:"https://swapi.co/api/"}),y=function(e){return C.get("".concat(e)).then((function(e){return e.data}))},_=O.a.create({baseURL:"https://www.googleapis.com/customsearch"}),N={key:"none",cx:"none",otherAttrUrl:"star wars",getImage:function(e){return _.get("v1?key=".concat(this.key,"&cx=").concat(this.cx,"&q=").concat(this.otherAttrUrl," ").concat(e)).then((function(e){return e.data}))}},T=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return e?e.split(t).splice(a,1):null},w=function(e){if(!e)return{};var t=Object.keys(e).map((function(t){return e[t]}))[1][0].url;return t||(t=Object.keys(e).map((function(t){return e[t]}))[1][0].image)},I=function(e,t,a){return function(n){n(v(!0)),N.getImage(t).then((function(t){n(v(!1)),n({type:"SET_IMAGE",data:{category:e,url:w(t.items[0].pagemap),id:a}})})).catch((function(){n(v(!1))}))}},S=a(3);a(52);function G(e){var t=e.nameObj,a=void 0===t?"":t,r=e.getImage,i=void 0===r?null:r,s=e.imageUrl,o=void 0===s?"":s,l=(e.currentCategory,Object(n.useState)(o)),u=Object(S.a)(l,2),m=u[0],d=u[1];Object(n.useEffect)((function(){m&&d(o)}),[o]),Object(n.useEffect)((function(){i&&i(a)}),[i]);return c.a.createElement("div",{className:"imageContainer"},m?c.a.createElement("image",{className:"image",src:m}):c.a.createElement("div",{className:"loader-image"},c.a.createElement("div",{className:"loader-animate"})))}a(53);var F={getImage:I},k=Object(s.b)((function(e){return{isFetching:e.sw.isFetching,currentCategory:e.sw.currentCategory,data:e.google.data}}),F)((function(e){e.getImage,e.currentCategory;var t=e.card,a=Object(n.useState)(+T(t.url,"/",-2)),r=Object(S.a)(a,2),i=r[0],s=r[1];return Object(n.useEffect)((function(){t&&t.name&&s(+T(t.url,"/",-2))}),[t]),t?c.a.createElement("div",{className:"card margin-right20px"},c.a.createElement("div",{className:"card__name card__item"},c.a.createElement("div",{className:"numberPage"},i),"name: ",t.name),c.a.createElement(G,{url:""})):"card is not defined"}));a(54);function x(e){var t=e.data;return c.a.createElement("div",{className:"cards"},t.map((function(e,t){return c.a.createElement(k,{card:e,key:t})})))}a(55);function R(e){var t=e.value,a=e.url,n=e.handleClick,r=e.isDisabled,i=void 0!==r&&r;return c.a.createElement("div",{className:"buttonContainer"},c.a.createElement("div",{type:"button",onClick:function(){n(a)},disabled:i,className:"sw-btn"},t))}a(56);function B(e){var t=e.next,a=e.previous,n=e.isFetching,r=e.getObjects,i=function(e){var t=T(e,"/api/");r(t)};return c.a.createElement("div",{className:"paginatorBar margin-top20px"},c.a.createElement("div",{className:"paginatorBar__previous paginatorBar__btn"},c.a.createElement(R,{value:"previous",url:a,handleClick:i,isDisabled:!a||n})),c.a.createElement("div",{className:"paginatorBar__next paginatorBar__btn"},c.a.createElement(R,{value:"next",url:t,handleClick:i,isDisabled:!t||n})))}a(57);function A(e){var t=e.title,a=void 0===t?"swApi":t,r=e.getObjects,i=e.setCurrentCategory,s=Object(n.useState)(""),o=Object(S.a)(s,2),l=o[0],u=o[1];return c.a.createElement("div",{className:"searchMenu"},c.a.createElement("select",{value:l,onChange:function(e){return t=e.currentTarget.value,u(t),void i(t);var t}},c.a.createElement("option",{value:"",disabled:!0},"category..."),c.a.createElement("option",{value:"people"},"people"),c.a.createElement("option",{value:"planets"},"planets"),c.a.createElement("option",{value:"starships"},"starships")),c.a.createElement("div",{className:"title"},a),c.a.createElement(R,{value:"load",url:l,handleClick:r,isDisabled:!l||" "===l}))}a(58);function U(e){return c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"rectangle-big rectangle"},c.a.createElement("div",{className:"rectangle-toggle rectangle"}))))}a(59);var L={getObjects:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){a(m(!0)),y(e,t).then((function(e){a(m(!1)),a(u(e))})).catch((function(){a(m(!1))}))}},setCurrentCategory:function(e){return{type:"SET_CURRENT_CATEGORY",data:e}},getImage:I},D=Object(s.b)((function(e){return{objects:e.sw.data.objects,isFetching:e.sw.isFetching,images:e.google.objects}}),L)((function(e){var t=e.objects,a=t.next,r=t.previous,i=t.results,s=e.isFetching,o=e.getObjects,l=e.setCurrentCategory,u=e.images,m=Object(n.useState)(null),d=Object(S.a)(m,2),g=d[0],v=d[1];return Object(n.useEffect)((function(){i&&i.length&&v(i)}),[i]),c.a.createElement("div",{className:"widjet"},c.a.createElement(A,{getObjects:o,setCurrentCategory:l}),g&&c.a.createElement("div",{className:"display"},c.a.createElement(x,{data:g,images:u}),c.a.createElement(B,{next:a,previous:r,getObjects:o})),s&&c.a.createElement(U,null))}));a(60),a(61);i.a.render(c.a.createElement(s.a,{store:h},c.a.createElement(D,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.48034df4.chunk.js.map
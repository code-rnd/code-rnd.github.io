{"version":3,"sources":["store/actions/sw/index.js","store/reducers/sw/index.js","store/reducers/index.js","store/index.js","api/swapi/index.js","store/actions/sw/async/index.js","containers/sw/SwContainer/index.js","utils/index.js","components/sw/SwComponent/index.jsx","components/sw/CardComponent/index.jsx","components/sw/CardsComponent/index.jsx","components/sw/PaginatorBarComponent/index.jsx","components/sw/SearchMenuComponent/index.jsx","containers/sw/WidjetContainer/index.js","components/sw/WidjetComponent/index.jsx","index.js"],"names":["setObjects","objects","type","data","toggleIsFetching","status","initialState","currentObjects","isFetching","reducers","combineReducers","sw","state","action","oldData","newObjects","newCurrentObject","newIsFetching","store","createStore","composeWithDevTools","applyMiddleware","thunk","instance","axios","create","baseURL","swApi","categoryName","id","get","then","response","url","getObjects","dispatch","catch","mapDispatchToProps","getObject","getElArr","connect","props","useState","isSearchId","setIsSearchId","isSearchCategory","setIsSearchCategory","className","placeholder","value","onChange","e","currentTarget","onClick","string","symbol","spliceCount","split","splice","CardComponent","card","Object","keys","map","item","keyItem","Array","isArray","key","number","CardsComponent","PaginatorBarComponent","next","previous","disabled","SearchMenuComponent","WidjetContainer","results","isResults","isSetResults","useEffect","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb7c36a2.chunk.js","sourcesContent":["export const SET_OBJECT = \"SET_OBJECT\";\r\nexport const SET_OBJECTS = \"SET_OBJECTS\";\r\nexport const TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\n\r\nexport const setObject = object => ({\r\n  type: SET_OBJECT,\r\n  data: object\r\n});\r\n\r\nexport const setObjects = objects => ({\r\n  type: SET_OBJECTS,\r\n  data: objects\r\n});\r\n\r\nexport const toggleIsFetching = status => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  data: status\r\n});\r\n","import { SET_OBJECT, SET_OBJECTS, TOGGLE_IS_FETCHING } from \"../../actions/sw\";\r\n\r\nexport const initialState = {\r\n  data: {\r\n    objects: [],\r\n    currentObjects: {}\r\n  },\r\n\r\n  isFetching: false\r\n};\r\n\r\nexport function swReducers(state = initialState, action) {\r\n  const oldData = state.data;\r\n\r\n  let newObjects = [];\r\n  let newCurrentObject = {};\r\n\r\n  let newIsFetching = null;\r\n\r\n  switch (action.type) {\r\n    case SET_OBJECT:\r\n      newCurrentObject = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          data: {\r\n            ...oldData,\r\n            currentObjects: newCurrentObject\r\n          }\r\n        }\r\n      };\r\n\r\n    case SET_OBJECTS:\r\n      newObjects = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          data: {\r\n            ...oldData,\r\n            objects: newObjects\r\n          }\r\n        }\r\n      };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      newIsFetching = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          isFetching: newIsFetching\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\nimport { swReducers } from \"./sw\";\n\nexport const reducers = combineReducers({\n  sw: swReducers\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { reducers } from \"./reducers\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nexport const store = createStore(\n  reducers /* preloadedState, */,\n  composeWithDevTools(applyMiddleware(thunk))\n  //   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: \"https://swapi.co/api/\"\r\n});\r\n\r\nexport const swApi = {\r\n  // получить один объект из выбранной категории\r\n  getObject(categoryName, id) {\r\n    return instance\r\n      .get(`${categoryName}/${id}/`)\r\n      .then(response => response.data);\r\n  },\r\n\r\n  // получить группу объектов из выбранной категории\r\n  getObjects(url) {\r\n    return instance.get(`${url}`).then(response => response.data);\r\n  }\r\n};\r\n","import { toggleIsFetching, setObject, setObjects } from \"..\";\r\nimport { swApi } from \"../../../../api/swapi\";\r\n\r\nexport const getObject = (categoryName, id) => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    swApi\r\n      .getObject(categoryName, id)\r\n      .then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setObject(data));\r\n      })\r\n      .catch(() => {\r\n        dispatch(toggleIsFetching(false));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getObjects = (categoryName, url = \"\") => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    swApi\r\n      .getObjects(categoryName, url)\r\n      .then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setObjects(data));\r\n      })\r\n      .catch(() => {\r\n        dispatch(toggleIsFetching(false));\r\n      });\r\n  };\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport { getObject, getObjects } from \"../../../store/actions/sw/async\";\r\nimport SwComponent from \"../../../components/sw/SwComponent\";\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.sw.data,\r\n  isFetching: state.sw.isFetching\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getObject,\r\n  getObjects\r\n};\r\n\r\nexport const SwContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SwComponent);\r\n","// разобью строку разделителем в массив\r\n// верну последний элемент масива\r\nexport const getElArr = (string, symbol, spliceCount = -1) => {\r\n  if (!string) {\r\n    return null;\r\n  }\r\n\r\n  return string.split(symbol).splice(spliceCount, 1);\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function SwComponent(props) {\r\n  const { getObject, getObjects } = props;\r\n  // const { hero } = props;\r\n  const { isFetching } = props;\r\n\r\n  const [isSearchId, setIsSearchId] = useState(1);\r\n  const [isSearchCategory, setIsSearchCategory] = useState(\"\");\r\n\r\n  const getFormSpin = () => {\r\n    return <div className={\"spin\"}>загружаю...</div>;\r\n  };\r\n\r\n  const getFormDisplay = () => {\r\n    return (\r\n      <div className={\"sw__display\"}>\r\n        {/* <div>герой: {hero ? hero : \"не найден\"}</div> */}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={\"sw\"}>\r\n      {isFetching ? getFormSpin() : getFormDisplay()}\r\n      <div className={\"sw__configMenu\"}>\r\n        <div className={\"configInput\"}>\r\n          <input\r\n            type={\"text\"}\r\n            placeholder={\"category\"}\r\n            value={isSearchCategory}\r\n            onChange={e => {\r\n              setIsSearchCategory(e.currentTarget.value);\r\n            }}\r\n          />\r\n          <input\r\n            type={\"text\"}\r\n            value={isSearchId}\r\n            onChange={e => {\r\n              setIsSearchId(+e.currentTarget.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className={\"configBtns\"}>\r\n          <input\r\n            type={\"button\"}\r\n            value={\"getObject\"}\r\n            onClick={() => {\r\n              getObject(isSearchCategory, isSearchId);\r\n            }}\r\n          />\r\n          <input\r\n            type={\"button\"}\r\n            value={\"getObjects\"}\r\n            onClick={() => {\r\n              getObjects(isSearchCategory);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { getElArr } from \"../../../utils\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function CardComponent(props) {\r\n  const { card } = props;\r\n\r\n  const getArrayCards = () => {\r\n    const getNumberPageComponent = number => {\r\n      return <div className={\"numberPage\"}>{getElArr(number, \"/\", -2)}</div>;\r\n    };\r\n\r\n    return (\r\n      <div className={\"card margin-bottom20px\"}>\r\n        {Object.keys(card).map(\r\n          (item, keyItem) =>\r\n            !Array.isArray(card[item]) && (\r\n              <div className={\"card__name card__item\"} key={keyItem}>\r\n                {`${item}: ${card[item]}`}\r\n                {item === \"url\" && getNumberPageComponent(card[item])}\r\n              </div>\r\n            )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return card ? getArrayCards() : \"card is not defined\";\r\n}\r\n","import React from \"react\";\r\nimport CardComponent from \"../CardComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function CardsComponent(props) {\r\n  const { data } = props;\r\n\r\n  return (\r\n    <div className={\"cards\"}>\r\n      {data.map((card, key) => (\r\n        <CardComponent card={card} key={key} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { getElArr } from \"../../../utils\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function PaginatorBarComponent(props) {\r\n  const { next, previous } = props;\r\n  const { isFetching } = props;\r\n  const { getObjects } = props;\r\n\r\n  const getButtonNext = () => {\r\n    return (\r\n      <div\r\n        className={\"paginatorBar__next paginatorBar__btn\"}\r\n        onClick={() => {\r\n          getObjects(getElArr(next, \"/api/\"));\r\n        }}\r\n        disabled={!next || isFetching}\r\n      >\r\n        next\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getButtonPrevious = () => {\r\n    return (\r\n      <div\r\n        className={\"paginatorBar__previous paginatorBar__btn\"}\r\n        onClick={() => {\r\n          getObjects(getElArr(previous, \"/api/\"));\r\n        }}\r\n        disabled={!previous || isFetching}\r\n      >\r\n        previous\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getLoader = () => {\r\n    return <div className={\"loader\"}>loading...</div>;\r\n  };\r\n\r\n  return (\r\n    <div className={\"paginatorBar margin-top20px\"}>\r\n      {getButtonPrevious()}\r\n      {isFetching ? getLoader() : \"\"}\r\n      {getButtonNext()}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function SearchMenuComponent(props) {\r\n  const { getObjects } = props;\r\n\r\n  const [isSearchCategory, setIsSearchCategory] = useState(\"\");\r\n\r\n  return (\r\n    <div className={\"searchMenu\"}>\r\n      <div className={\"searchMenu__input\"}>\r\n        <input\r\n          type={\"text\"}\r\n          placeholder={\"people, planets, starships...\"}\r\n          value={isSearchCategory}\r\n          onChange={e => {\r\n            setIsSearchCategory(e.currentTarget.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className={\"searchMenu__input\"}>\r\n        <input\r\n          type={\"button\"}\r\n          value={\"load\"}\r\n          onClick={() => {\r\n            getObjects(isSearchCategory);\r\n          }}\r\n          disabled={!isSearchCategory}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport { getObjects } from \"../../../store/actions/sw/async\";\r\nimport WidjetComponent from \"../../../components/sw/WidjetComponent\";\r\n\r\nconst mapStateToProps = state => ({\r\n  objects: state.sw.data.objects,\r\n  isFetching: state.sw.isFetching\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getObjects\r\n};\r\n\r\nexport const WidjetContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(WidjetComponent);\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport CardsComponent from \"../CardsComponent\";\r\nimport PaginatorBarComponent from \"../PaginatorBarComponent\";\r\nimport SearchMenuComponent from \"../SearchMenuComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function WidjetComponent(props) {\r\n  const { objects } = props;\r\n  const { next, previous, results } = objects;\r\n\r\n  const { isFetching } = props;\r\n  const { getObjects } = props;\r\n\r\n  const [isResults, isSetResults] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!results || !results.length) {\r\n      return;\r\n    }\r\n\r\n    isSetResults(results);\r\n  }, [results]);\r\n\r\n  const getFormDisplay = () => {\r\n    return (\r\n      <div className=\"display\">\r\n        <CardsComponent data={isResults} />\r\n        <PaginatorBarComponent\r\n          next={next}\r\n          previous={previous}\r\n          getObjects={getObjects}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={\"widjet\"}>\r\n      <SearchMenuComponent getObjects={getObjects} />\r\n      {isResults && getFormDisplay()}\r\n      {isFetching && \"loading...\"}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nimport { SwContainer } from \"./containers/sw/SwContainer\";\nimport { WidjetContainer } from \"./containers/sw/WidjetContainer\";\n\nimport \"./styles/style.scss\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <WidjetContainer />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
{"version":3,"sources":["store/actions/sw/index.js","store/reducers/sw/index.js","store/reducers/index.js","store/index.js","api/swapi/index.js","utils/index.js","components/sw/CardComponent/index.jsx","components/sw/CardsComponent/index.jsx","components/sw/ButtonComponent/index.jsx","components/sw/PaginatorBarComponent/index.jsx","components/sw/SearchMenuComponent/index.jsx","components/sw/LoadingComponent/index.jsx","containers/sw/WidjetContainer/index.js","store/actions/sw/async/index.js","components/sw/WidjetComponent/index.jsx","index.js"],"names":["setObjects","objects","type","data","toggleIsFetching","status","initialState","currentObjects","isFetching","reducers","combineReducers","sw","state","action","oldData","newObjects","newCurrentObject","newIsFetching","store","createStore","composeWithDevTools","applyMiddleware","thunk","instance","axios","create","baseURL","swApi","url","get","then","response","getElArr","string","symbol","spliceCount","split","splice","CardComponent","props","card","className","Object","keys","map","item","keyItem","Array","isArray","key","number","CardsComponent","ButtonComponent","value","handleClick","isDisabled","onClick","disabled","PaginatorBarComponent","next","previous","getObjects","baseUrl","SearchMenuComponent","useState","isSearchCategory","setIsSearchCategory","onChange","e","currentTarget","LoadingComponent","isLoading","isToggle","setIsToggle","name","count","isTimer","setTimer","useEffect","clearTimeout","timer","setTimeout","handleStart","mapDispatchToProps","categoryName","dispatch","catch","WidjetContainer","connect","results","isResults","isSetResults","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.996ebf51.chunk.js","sourcesContent":["export const SET_OBJECT = \"SET_OBJECT\";\r\nexport const SET_OBJECTS = \"SET_OBJECTS\";\r\nexport const TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\n\r\nexport const setObject = object => ({\r\n  type: SET_OBJECT,\r\n  data: object\r\n});\r\n\r\nexport const setObjects = objects => ({\r\n  type: SET_OBJECTS,\r\n  data: objects\r\n});\r\n\r\nexport const toggleIsFetching = status => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  data: status\r\n});\r\n","import { SET_OBJECT, SET_OBJECTS, TOGGLE_IS_FETCHING } from \"../../actions/sw\";\r\n\r\nexport const initialState = {\r\n  data: {\r\n    objects: [],\r\n    currentObjects: {}\r\n  },\r\n\r\n  isFetching: false\r\n};\r\n\r\nexport function swReducers(state = initialState, action) {\r\n  const oldData = state.data;\r\n\r\n  let newObjects = [];\r\n  let newCurrentObject = {};\r\n\r\n  let newIsFetching = null;\r\n\r\n  switch (action.type) {\r\n    case SET_OBJECT:\r\n      newCurrentObject = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          data: {\r\n            ...oldData,\r\n            currentObjects: newCurrentObject\r\n          }\r\n        }\r\n      };\r\n\r\n    case SET_OBJECTS:\r\n      newObjects = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          data: {\r\n            ...oldData,\r\n            objects: newObjects\r\n          }\r\n        }\r\n      };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      newIsFetching = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        ...{\r\n          isFetching: newIsFetching\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\nimport { swReducers } from \"./sw\";\n\nexport const reducers = combineReducers({\n  sw: swReducers\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { reducers } from \"./reducers\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nexport const store = createStore(\n  reducers /* preloadedState, */,\n  composeWithDevTools(applyMiddleware(thunk))\n  //   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: \"https://swapi.co/api/\"\r\n});\r\n\r\nexport const swApi = {\r\n  // получить один объект из выбранной категории\r\n  getObject(categoryName, id) {\r\n    return instance\r\n      .get(`${categoryName}/${id}/`)\r\n      .then(response => response.data);\r\n  },\r\n\r\n  // получить группу объектов из выбранной категории\r\n  getObjects(url) {\r\n    return instance.get(`${url}`).then(response => response.data);\r\n  }\r\n};\r\n","// разобью строку разделителем в массив\r\n// верну последний элемент масива\r\nexport const getElArr = (string, symbol, spliceCount = -1) => {\r\n  if (!string) {\r\n    return null;\r\n  }\r\n\r\n  return string.split(symbol).splice(spliceCount, 1);\r\n};\r\n","import React from \"react\";\r\nimport { getElArr } from \"../../../utils\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function CardComponent(props) {\r\n  const { card } = props;\r\n\r\n  const getArrayCards = () => {\r\n    const getNumberPageComponent = number => {\r\n      return <div className={\"numberPage\"}>{getElArr(number, \"/\", -2)}</div>;\r\n    };\r\n\r\n    return (\r\n      <div className={\"card margin-right20px\"}>\r\n        {Object.keys(card).map(\r\n          (item, keyItem) =>\r\n            !Array.isArray(card[item]) && (\r\n              <div className={\"card__name card__item\"} key={keyItem}>\r\n                {`${item}: ${card[item]}`}\r\n                {item === \"url\" && getNumberPageComponent(card[item])}\r\n              </div>\r\n            )\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return card ? getArrayCards() : \"card is not defined\";\r\n}\r\n","import React from \"react\";\r\nimport CardComponent from \"../CardComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function CardsComponent(props) {\r\n  const { data } = props;\r\n\r\n  return (\r\n    <div className={\"cards\"}>\r\n      {data.map((card, key) => (\r\n        <CardComponent card={card} key={key} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function ButtonComponent(props) {\r\n  const { value, url, handleClick, isDisabled } = props;\r\n\r\n  return (\r\n    <div className={\"buttonContainer\"}>\r\n      <div\r\n        type={\"button\"}\r\n        onClick={() => {\r\n          handleClick(url);\r\n        }}\r\n        disabled={isDisabled}\r\n        className={\"sw-btn\"}\r\n      >\r\n        {value}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { getElArr } from \"../../../utils\";\r\nimport ButtonComponent from \"../ButtonComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function PaginatorBarComponent(props) {\r\n  const { next, previous } = props;\r\n  const { isFetching } = props;\r\n  const { getObjects } = props;\r\n\r\n  const handleClick = baseUrl => {\r\n    const split = \"/api/\";\r\n    const url = getElArr(baseUrl, split);\r\n\r\n    getObjects(url);\r\n  };\r\n\r\n  const getButtonNext = () => {\r\n    return (\r\n      <div className={\"paginatorBar__next paginatorBar__btn\"}>\r\n        <ButtonComponent\r\n          value={\"next\"}\r\n          url={next}\r\n          handleClick={handleClick}\r\n          isDisabled={!next || isFetching}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getButtonPrevious = () => {\r\n    return (\r\n      <div className={\"paginatorBar__previous paginatorBar__btn\"}>\r\n        <ButtonComponent\r\n          value={\"previous\"}\r\n          url={previous}\r\n          handleClick={handleClick}\r\n          isDisabled={!previous || isFetching}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={\"paginatorBar margin-top20px\"}>\r\n      {getButtonPrevious()}\r\n      {getButtonNext()}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ButtonComponent from \"../ButtonComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function SearchMenuComponent(props) {\r\n  const { getObjects } = props;\r\n\r\n  const [isSearchCategory, setIsSearchCategory] = useState(\"\");\r\n\r\n  return (\r\n    <div className={\"searchMenu\"}>\r\n      <select\r\n        value={isSearchCategory}\r\n        onChange={e => setIsSearchCategory(e.currentTarget.value)}\r\n      >\r\n        <option value=\"\" disabled>\r\n          category...\r\n        </option>\r\n        <option value={\"people\"}>people</option>\r\n        <option value={\"planets\"}>planets</option>\r\n        <option value={\"starships\"}>starships</option>\r\n      </select>\r\n      <ButtonComponent\r\n        value={\"load\"}\r\n        url={isSearchCategory}\r\n        handleClick={getObjects}\r\n        isDisabled={!isSearchCategory || isSearchCategory === \" \"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function LoadingComponent(props) {\r\n  const { isLoading } = props;\r\n\r\n  const [isToggle, setIsToggle] = useState(false);\r\n  const [isTimer, setTimer] = useState({ name: null, status: false, count: 0 });\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      clearTimeout(isTimer.name);\r\n      return;\r\n    }\r\n  }, []);\r\n\r\n  const handleStart = () => {\r\n    let count = 0;\r\n    const timer = setTimeout(() => {\r\n      count = count + 1;\r\n      setTimer({ name: timer, status: true, count: count });\r\n    }, 400);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      clearTimeout(isTimer.name);\r\n      return;\r\n    }\r\n\r\n    setIsToggle(!isToggle);\r\n    handleStart();\r\n  }, [isTimer]);\r\n\r\n  return (\r\n    <div className=\"loading\">\r\n      <div className=\"spinner\">\r\n        <div className={`rectangle-big rectangle`}>\r\n          <div\r\n            className={`rectangle-${isToggle ? \"toggle\" : \"little\"} rectangle`}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { connect } from \"react-redux\";\r\nimport { getObjects } from \"../../../store/actions/sw/async\";\r\nimport WidjetComponent from \"../../../components/sw/WidjetComponent\";\r\n\r\nconst mapStateToProps = state => ({\r\n  objects: state.sw.data.objects,\r\n  isFetching: state.sw.isFetching\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getObjects\r\n};\r\n\r\nexport const WidjetContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(WidjetComponent);\r\n","import { toggleIsFetching, setObject, setObjects } from \"..\";\r\nimport { swApi } from \"../../../../api/swapi\";\r\n\r\nexport const getObject = (categoryName, id) => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    swApi\r\n      .getObject(categoryName, id)\r\n      .then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setObject(data));\r\n      })\r\n      .catch(() => {\r\n        dispatch(toggleIsFetching(false));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getObjects = (categoryName, url = \"\") => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    swApi\r\n      .getObjects(categoryName, url)\r\n      .then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setObjects(data));\r\n      })\r\n      .catch(() => {\r\n        dispatch(toggleIsFetching(false));\r\n      });\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport CardsComponent from \"../CardsComponent\";\r\nimport PaginatorBarComponent from \"../PaginatorBarComponent\";\r\nimport SearchMenuComponent from \"../SearchMenuComponent\";\r\nimport LoadingComponent from \"../LoadingComponent\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default function WidjetComponent(props) {\r\n  const {\r\n    objects: { next, previous, results }\r\n  } = props;\r\n\r\n  const { isFetching } = props;\r\n  const { getObjects } = props;\r\n\r\n  const [isResults, isSetResults] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!results || !results.length) {\r\n      return;\r\n    }\r\n\r\n    isSetResults(results);\r\n  }, [results]);\r\n\r\n  const getFormDisplay = () => {\r\n    return (\r\n      <div className=\"display\">\r\n        <CardsComponent data={isResults} />\r\n        <PaginatorBarComponent\r\n          next={next}\r\n          previous={previous}\r\n          getObjects={getObjects}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={\"widjet\"}>\r\n      <SearchMenuComponent getObjects={getObjects} />\r\n      {isResults && getFormDisplay()}\r\n      {isFetching && <LoadingComponent isLoading={isFetching} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nimport { WidjetContainer } from \"./containers/sw/WidjetContainer\";\n\nimport \"./styles/style.scss\";\nimport \"./styles/mediaMobile/style.scss\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <WidjetContainer />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
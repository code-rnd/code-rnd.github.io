{"version":3,"sources":["components/PopUp/index.jsx","components/Convert/index.jsx","components/Convert/utils.js","index.jsx"],"names":["PopupAttention","onClose","message","useState","classes","setClasses","useEffect","timerFadein","setTimeout","timerFadeout","timerClose","clearTimeout","className","Convert","isShow","setIsShow","isMessage","setIsMessage","isText","setIsText","isConvertText","setIsConvertText","string","firstOctet","secondOctet","idGroup","idPost","indexOf","split","replace","preText","window","navigator","clipboard","writeText","placeholder","type","onChange","event","currentTarget","value","onClick","open","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af66781e.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport const PopupAttention = ({ onClose, message }) => {\r\n  const [classes, setClasses] = useState(\"popup_attention\");\r\n\r\n  useEffect(() => {\r\n    const timerFadein = setTimeout(() => {\r\n      setClasses(\"popup_attention popup_attention-fadein\");\r\n    }, 100);\r\n\r\n    const timerFadeout = setTimeout(() => {\r\n      setClasses(\"popup_attention\");\r\n    }, 2000);\r\n    const timerClose = setTimeout(onClose, 2500);\r\n\r\n    // componentWillUnmount\r\n    return () => {\r\n      clearTimeout(timerFadein);\r\n      clearTimeout(timerFadeout);\r\n      clearTimeout(timerClose);\r\n    };\r\n  }, [message]);\r\n\r\n  return <div className={classes}>{message}</div>;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { PopupAttention } from \"../PopUp\";\r\nimport { preText } from \"./utils\";\r\nimport \"./style.scss\";\r\n\r\nexport const Convert = () => {\r\n  const [isShow, setIsShow] = useState(false);\r\n  const [isMessage, setIsMessage] = useState(\"\");\r\n\r\n  const [isText, setIsText] = useState(\"\");\r\n  const [isConvertText, setIsConvertText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    isText && setIsConvertText(preText(isText));\r\n  }, [isText]);\r\n\r\n  useEffect(() => {\r\n    if (isConvertText) {\r\n      window.navigator.clipboard.writeText(isConvertText);\r\n      setIsMessage(\"Ссылка скопирована в буфер\");\r\n      setIsShow(true);\r\n    }\r\n  }, [isConvertText]);\r\n\r\n  const handleChange = event => {\r\n    setIsShow(false);\r\n    setIsText(event.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"convert\">\r\n        <div className=\"convert-input\">\r\n          <div>полная ссылка</div>\r\n          <input\r\n            placeholder={\"Вставь сюда полную ссылку\"}\r\n            type=\"text\"\r\n            onChange={handleChange}\r\n            value={isText}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"convert-input\">\r\n          <div>{`короткая ссылка ${isConvertText &&\r\n            \"(нажми и я откроюсь в новой вкладке)\"}`}</div>\r\n          <div className=\"convert-label\">\r\n            {isConvertText && (\r\n              <span onClick={() => window.open(isConvertText)}>\r\n                {isConvertText}\r\n              </span>\r\n            )}\r\n            {!isConvertText && \"В этом месте будет готовая ссылка\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"convert-input-custom\">\r\n          <div\r\n            className=\"convert-input-custom-btn\"\r\n            onClick={() => {\r\n              setIsText(\"\");\r\n              setIsShow(true);\r\n              setIsConvertText(\"\");\r\n              setIsMessage(\"Поля очищены\");\r\n            }}\r\n          >\r\n            очистить поля\r\n          </div>\r\n          <div\r\n            className=\"convert-input-custom-btn\"\r\n            onClick={() => {\r\n              setIsMessage(\"Буффер очищен\");\r\n              setIsShow(true);\r\n              window.navigator.clipboard.writeText(\"\");\r\n            }}\r\n          >\r\n            очистить буфер\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer\">\r\n        <div>\r\n          После вставки полной ссылки, готовая ссыкла копируется в буффер\r\n          автоматически\r\n        </div>\r\n        <div>\r\n          конвертируемые ссылки:{\" \"}\r\n          <span>photos\\photo, videos\\video, posts, permalink.php</span>\r\n        </div>\r\n        <a href=\"tg://resolve?domain=codernd\">\r\n          есть вопросы? <br />\r\n          телега: @codernd\r\n        </a>\r\n      </div>\r\n      {isShow && <PopupAttention onClose={setIsShow} message={isMessage} />}\r\n    </>\r\n  );\r\n};\r\n","export const preText = string => {\r\n  let zeroOctet = \"https://www.facebook.com\";\r\n  let firstOctet = \"\";\r\n  let secondOctet = \"\";\r\n\r\n  let idGroup = \"\";\r\n  let idPost = \"\";\r\n\r\n  if (!string) {\r\n    return \"\";\r\n  }\r\n\r\n  if (string.indexOf(\"photos\") !== -1) {\r\n    firstOctet = string.split(\"/a.\")[0]?.replace(\"photos\", \"posts\");\r\n    secondOctet = string.split(\"/a.\")[1]?.split(\"/\")[1];\r\n    return `${firstOctet}/${secondOctet}`;\r\n  }\r\n\r\n  if (string.indexOf(\"videos\") !== -1) {\r\n    idPost = string.split(\"/\")[5];\r\n    idGroup = string.split(\"/\")[3];\r\n\r\n    return `${zeroOctet}/${idGroup}/posts/${idPost}`;\r\n  }\r\n\r\n  if (string.indexOf(\"posts\") !== -1) {\r\n    firstOctet = string?.split(\"?\")[0];\r\n    return firstOctet;\r\n  }\r\n\r\n  if (string.indexOf(\"video\") !== -1) {\r\n    firstOctet = string.split(\"/a.\")[0]?.replace(\"video\", \"posts\");\r\n    secondOctet = string.split(\"/a.\")[1]?.split(\"/\")[1];\r\n    return `${firstOctet}/${secondOctet}`;\r\n  }\r\n\r\n  if (string.indexOf(\"photo\") !== -1) {\r\n    firstOctet = string.split(\"/a.\")[0]?.replace(\"photo\", \"posts\");\r\n    secondOctet = string.split(\"/a.\")[1]?.split(\"/\")[1];\r\n    return `${firstOctet}/${secondOctet}`;\r\n  }\r\n\r\n  if (string.indexOf(\"permalink.php\") !== -1) {\r\n    firstOctet = string?.split(\"id=\")[2]?.split(\"&\")[0];\r\n    secondOctet = string?.split(\"id=\")[1].split(\"&\")[0];\r\n    return `${zeroOctet}/${firstOctet}/posts/${secondOctet}`;\r\n  }\r\n\r\n  return \"\";\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport {Convert} from \"./components/Convert\";\n\nimport \"./styles/style.scss\";\n\nReactDOM.render(<Convert />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}